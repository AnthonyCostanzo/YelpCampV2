<% layout ('layouts/boilerplate') %>

<div class="row">
    <h1 class="text-center">Edit Campground</h1>
    <div class="col-md-6 offset-md-3">
        <form action = '/campgrounds/<%=campground._id%>?_method=PUT' method='POST' class = 'validated-form' novalidate enctype="multipart/form-data">
            <div class = "form-group mb-3">
            <label class = 'form-label' for ='title'>Title:</label>
            <input class="form-control" type="text" name = campground[title] id = 'title' value = "<%=campground.title%>">
            </div>
          
            <div class = "form-group mb-3">
            <label class = 'form-label' for='location'>Location:</label>
            <input type="text" class="form-control " name = 'campground[location]' id = 'location' value = "<%=campground.location%>">
            </div>
            <div class="input-group mb-3">
                <label class = 'form-label' for ='price'>Campground Price</label>  
                <div class="input-group">
                  <span class="input-group-text" id="price-label">$</span>
                  <input type="text" class="form-control" name = 'campground[price]' id='price' aria-label="price" aria-describedby="price" value = "<%=campground.price%>">
                </div>
            </div>
            <div class = "form-group mb-3">
                <label class = 'form-label' for='description'>Description:</label>
                <textarea class="form-control " name = 'campground[description]' id = 'description'><%=campground.description%></textarea>
            </div>
            <div class="mb-3">
                <div class="form-file custom-file">
                    <input type="file" class="form-file-input" id="image" name="image" multiple>
                    <label class="form-file-label" for="image">
                        <span class="form-file-text custom-file-label">Add more images...</span>
                        <span class="form-file-button">Browse</span>
                    </label>
                </div>
            </div>
            <mb-3>
                <% campground.images.forEach((img,i)=>{ %>
                    <img class = "img-thumbnail" src="<%=img.thumbnail%>" alt="">
                    <div class="form-check-inline">
                        <input type="checkbox" name='deleteImages[]' value ='<%=img.filename%>' id = "image-<%=i%>">
                    </div>
                    <label for="image-<%=i%>">Delete</label>
                <% }) %>
            </mb-3>
            <div class="mb-3">
                <button type = 'submit' class = 'btn btn-outline-primary mt-3' >Update Campground</button>
            </div>
        </form>
    <a href = '/campgrounds'>Back To Campgrounds</a>
    </div>
</div>